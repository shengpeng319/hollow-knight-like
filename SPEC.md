# Hollow Knight Like - MVP 项目规格说明书

## 1. 项目概述

- **项目名称**: Hollow Knight Like
- **项目类型**: 2D 平台动作游戏 (Metroidvania)
- **引擎**: Godot 4.2
- **项目目标**: 开发一个最小可行版本 (MVP)，验证空洞骑士风格的核心玩法

## 2. MVP 范围

### 核心功能 (必须实现)
1. **玩家角色控制系统**
   - 移动 (左/右行走)
   - 跳跃 (支持二段跳)
   - 冲刺 (冲刺攻击)
   - 地面检测

2. **战斗系统**
   - 近战攻击 (剑挥砍)
   - 攻击判定与伤害计算
   - 攻击冷却时间

3. **敌人系统**
   - 基础敌人 AI (巡逻、追击)
   - 敌人受伤与死亡
   - 简单的敌人类型 (近战小怪)

4. **生命值系统**
   - 玩家生命值 (5 格)
   - 受伤无敌帧 (i-frames)
   - 死亡与重生

5. **测试关卡**
   - 简单的 2D 平台地图
   - 多种地形 (地面、平台、墙壁)
   - 敌人生成点

6. **UI 系统**
   - 生命值显示
   - 简单的开始/结束界面

### 扩展功能 (MVP 后考虑)
- 魔法攻击系统
- 存档系统
- 多个关卡
- Boss 战

## 3. 技术规格

### 物理系统
- 使用 Godot Physics 2D
- 重力加速度: 980 (ProjectSettings 默认)
- 移动速度: 200 pixels/s
- 跳跃力: 350
- 冲刺速度: 500

### 玩家属性
- 生命值: 5 格
- 攻击力: 1 格 (可击杀普通敌人)
- 移动速度: 200
- 跳跃高度: 可调整
- 冲刺冷却: 1 秒

### 敌人属性
- 普通敌人: 2 格生命值
- 伤害: 1 格
- AI 简单状态机

## 4. 项目结构

```
hollow-knight-like/
├── project.godot              # Godot 项目配置
├── icon.svg                   # 项目图标
├── scenes/
│   └── main.tscn              # 主场景
├── scripts/
│   ├── player/
│   │   └── player.gd         # 玩家控制+战斗+生命值
│   ├── enemy/
│   │   └── enemy.gd           # 敌人 AI + 战斗 + 生命值
│   ├── ui/
│   │   └── ui_manager.gd     # UI 管理
│   └── core/
│       ├── game_manager.gd   # 游戏管理
│       └── ground_check.gd   # 地面检测
├── sprites/
│   ├── player/
│   ├── enemy/
│   └── tiles/
├── prefabs/
└── SPEC.md
```

## 5. 验收标准

### 功能验收
- [ ] 玩家可以使用方向键/WASD 控制移动
- [ ] 玩家可以跳跃，支持二段跳
- [ ] 玩家可以冲刺 (按 X)
- [ ] 玩家可以挥剑攻击 (按 J)
- [ ] 敌人会巡逻和追击玩家
- [ ] 玩家攻击可以伤害敌人
- [ ] 敌人攻击可以伤害玩家
- [ ] 玩家死亡后可以重生
- [ ] 生命值 UI 正确显示

### 性能验收
- [ ] 游戏运行流畅 (60 FPS)
- [ ] 无明显卡顿或掉帧
- [ ] 无明显内存泄漏

## 6. 操作说明

### 控制键位
- **移动**: 方向键 或 A/D
- **跳跃**: 空格 或 W
- **冲刺**: X
- **攻击**: J

### 运行项目
1. 安装 Godot 4.2+: https://godotengine.org/
2. 打开 Godot，点击 "Import"
3. 选择 `~/code/hollow-knight-like/project.godot`
4. 点击 "Run" (F5) 运行

## 7. 开发计划

### 第一阶段: 项目设置
1. 创建 Godot 4.2 项目
2. 设置项目结构
3. 创建基础场景

### 第二阶段: 玩家控制
1. 实现基础移动
2. 实现跳跃和二段跳
3. 实现冲刺
4. 实现地面检测

### 第三阶段: 战斗系统
1. 实现攻击判定
2. 实现伤害系统
3. 实现无敌帧

### 第四阶段: 敌人系统
1. 实现基础敌人
2. 实现 AI 行为
3. 实现敌人战斗

### 第五阶段: UI 和测试
1. 添加生命值 UI
2. 创建测试关卡
3. 调试和优化
